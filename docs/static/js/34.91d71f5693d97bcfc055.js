webpackJsonp([34],{f4D1:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("Xxa5"),a=r.n(l),o=r("woOf"),n=r.n(o),i=r("exGp"),s=r.n(i),c=r("vLgD");var u={name:"dataDictionary",data:function(){return{list:null,listLoading:!0,multipleSelection:[],form:{grouping:"",code:"",dic_desc:"",name:"",dic_key:"",sort_no:"",is_enable:"0",dic_group:"",remark:"",where1:"",where2:"",select:null},selectArr:[],enableSelect:[{name:"是",value:"1"},{name:"否",value:"0"}],listQuery:{startPage:1,limit:10},total:0,isDialogShow:!1,isEditDialogShow:!1,rules:{}}},created:function(){var e,t=this;this.fetchData(this.listQuery),(e={key:"dic_group",type:"hash"},Object(c.a)({url:"/management-web/http/do.jhtml?router=cacheCustomService.listValues",method:"post",data:e})).then(function(e){e.rows.map(function(e){return e.value=JSON.parse(e.value),e}),e.rows.push({field:"",value:{dic_desc:"全部"}}),t.selectArr=e.rows,console.log(e,"sdasdasd")})},watch:{},methods:{fetchData:function(e){var t=this;return s()(a.a.mark(function r(){var l,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return(l=n()({},e)).startPage--,l.nkv=t.form.contrastCode,l.params_group=t.form.grouping,t.listLoading=!0,r.prev=5,r.next=8,a=l,Object(c.a)({url:"/management-web/http/do.jhtml?router=masterDataService.listDic",method:"post",data:a});case 8:o=r.sent,t.list=o.rows,t.listLoading=!1,t.total=o.total,r.next=18;break;case 14:r.prev=14,r.t0=r.catch(5),console.log(r.t0),t.listLoading=!1;case 18:t.initForm();case 19:case"end":return r.stop()}var a},r,t,[[5,14]])}))()},changeValue:function(e){this.fetchData(this.listQuery)},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},handleSizeChange:function(e){this.listQuery.limit=e,this.fetchData(this.listQuery)},handleCurrentChange:function(e){this.listQuery.startPage=e,this.fetchData(this.listQuery)},btnAdd:function(){this.isDialogShow=!0,this.initForm()},btnEdit:function(){var e=this.multipleSelection,t=e.length,r=e[0];t>1?this.$message({message:"只能选中一个修改",type:"warning",duration:3e3,showClose:!0}):0!==t?(this.isEditDialogShow=!0,this.form=n()(this.form,r),console.log(r)):this.$message({message:"请选中一条",type:"warning",duration:3e3,showClose:!0})},btnDelete:function(){var e=this;return s()(a.a.mark(function t(){var r,l;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.multipleSelection,0!==r.length){t.next=3;break}return t.abrupt("return");case 3:return l={aos_rows:r.map(function(e){return e.id}).join()},t.prev=4,t.next=7,e.btnDeleteConfirm();case 7:return t.sent,t.next=10,a=l,Object(c.a)({url:"/management-web/http/do.jhtml?router=masterDataService.deleteDic",method:"post",data:a});case 10:return t.next=12,e.fetchData(e.listQuery);case 12:e.$message({type:"success",message:"删除成功!"}),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),e.$message({type:"info",message:"已取消删除"});case 18:case"end":return t.stop()}var a},t,e,[[4,15]])}))()},btnDeleteConfirm:function(){return this.$confirm("此操作将永久删除这些文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})},inputSearch:function(){var e=n()({},this.listQuery,this.form);this.fetchData(e)},closeDialog:function(){this.isDialogShow=!1,this.isEditDialogShow=!1},confirmBtn:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e.form,Object(c.a)({url:"/management-web/http/do.jhtml?router=masterDataService.saveDic",method:"post",data:r});case 3:t.sent,e.fetchData(e.listQuery),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:e.closeDialog(),e.initForm();case 12:case"end":return t.stop()}var r},t,e,[[0,7]])}))()},confirmEditBtn:function(){var e=this;return s()(a.a.mark(function t(){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e.form,Object(c.a)({url:"/management-web/http/do.jhtml?router=masterDataService.updateDic",method:"post",data:r});case 3:t.sent,e.fetchData(e.listQuery),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:e.closeDialog(),e.initForm();case 12:case"end":return t.stop()}var r},t,e,[[0,7]])}))()},initForm:function(){this.form=n()(this.form,{code:"",dic_desc:"",name:"",dic_key:"",sort_no:"",is_enable:"0",dic_group:"",remark:"",where1:"",where2:"",select:null})}},mounted:function(){}},m={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("div",[r("el-button",{attrs:{round:""},on:{click:e.btnAdd}},[e._v("新增")]),e._v(" "),r("el-button",{attrs:{round:""},on:{click:e.btnEdit}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{round:""},on:{click:e.btnDelete}},[e._v("删除")]),e._v(" "),r("div",{staticStyle:{display:"inline-block"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"字典分组"}},[r("el-select",{attrs:{placeholder:"please select your zone"},on:{change:e.changeValue},model:{value:e.form.grouping,callback:function(t){e.$set(e.form,"grouping",t)},expression:"form.grouping"}},e._l(e.selectArr,function(e,t){return r("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.field}})}))],1)],1)],1),e._v(" "),r("div",{staticStyle:{display:"inline-block"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"字典名称"}},[r("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.inputSearch(t)}},model:{value:e.form.where1,callback:function(t){e.$set(e.form,"where1",t)},expression:"form.where1"}})],1)],1)],1),e._v(" "),r("div",{staticStyle:{display:"inline-block"}},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"对照码"}},[r("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.inputSearch(t)}},model:{value:e.form.where2,callback:function(t){e.$set(e.form,"where2",t)},expression:"form.where2"}})],1)],1)],1)],1),e._v(" "),r("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"字典名称",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{align:"center",label:"字典标识",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.dic_key)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"对照码",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.code))])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"对照值",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.dic_desc)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"排序号",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.sort_no)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"是否启用",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.is_enable)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"所属分组",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.dic_group)+"\n      ")]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.remark)+"\n      ")]}}])})],1),e._v(" "),r("div",{staticClass:"pagination-container"},[r("el-pagination",{attrs:{background:"","current-page":e.listQuery.startPage,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"新增参数",visible:e.isDialogShow},on:{"update:visible":function(t){e.isDialogShow=t}}},[r("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"70px"}},[r("el-form-item",{attrs:{label:"所属分组",prop:"selectArr"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.dic_group,callback:function(t){e.$set(e.form,"dic_group",t)},expression:"form.dic_group"}},e._l(e.selectArr,function(e,t){return r("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.field}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字典标识",prop:"dic_key"}},[r("el-input",{model:{value:e.form.dic_key,callback:function(t){e.$set(e.form,"dic_key",t)},expression:"form.dic_key"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"对照码",prop:"code"}},[r("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"对照值",prop:"dic_desc"}},[r("el-input",{model:{value:e.form.dic_desc,callback:function(t){e.$set(e.form,"dic_desc",t)},expression:"form.dic_desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用",prop:"is_enable"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.is_enable,callback:function(t){e.$set(e.form,"is_enable",t)},expression:"form.is_enable"}},e._l(e.enableSelect,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"排序号",prop:"sort_no"}},[r("el-input-number",{attrs:{min:0,label:"排序号"},model:{value:e.form.sort_no,callback:function(t){e.$set(e.form,"sort_no",t)},expression:"form.sort_no"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"success",plain:""},on:{click:e.confirmBtn}},[e._v("确认")]),e._v(" "),r("el-button",{attrs:{type:"info",plain:""},on:{click:e.closeDialog}},[e._v("取消")])],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"新增参数",visible:e.isEditDialogShow},on:{"update:visible":function(t){e.isEditDialogShow=t}}},[r("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"70px"}},[r("el-form-item",{attrs:{label:"所属分组",prop:"selectArr"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.dic_group,callback:function(t){e.$set(e.form,"dic_group",t)},expression:"form.dic_group"}},e._l(e.selectArr,function(e,t){return r("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.field}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"字典名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"字典标识",prop:"dic_key"}},[r("el-input",{model:{value:e.form.dic_key,callback:function(t){e.$set(e.form,"dic_key",t)},expression:"form.dic_key"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"对照码",prop:"code"}},[r("el-input",{model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"对照值",prop:"dic_desc"}},[r("el-input",{model:{value:e.form.dic_desc,callback:function(t){e.$set(e.form,"dic_desc",t)},expression:"form.dic_desc"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否启用",prop:"enableSelect"}},[r("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.is_enable,callback:function(t){e.$set(e.form,"is_enable",t)},expression:"form.is_enable"}},e._l(e.enableSelect,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.value}})}))],1),e._v(" "),r("el-form-item",{attrs:{label:"排序号",prop:"sort_no"}},[r("el-input-number",{attrs:{min:0,label:"排序号"},model:{value:e.form.sort_no,callback:function(t){e.$set(e.form,"sort_no",t)},expression:"form.sort_no"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"success",plain:""},on:{click:e.confirmEditBtn}},[e._v("确认")]),e._v(" "),r("el-button",{attrs:{type:"info",plain:""},on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]},f=r("VU/8")(u,m,!1,null,null,null);t.default=f.exports}});