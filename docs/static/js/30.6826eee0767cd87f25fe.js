webpackJsonp([30],{"5Q93":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),o=a.n(l),n=a("woOf"),r=a.n(n),i=a("exGp"),s=a.n(i),c=a("zIkb"),u={name:"keyValue",data:function(){return{list:null,listLoading:!0,multipleSelection:[],form:{grouping:"",contrastCode:"",name:"",key:"",value:"",remark:"",select:null},selectArr:[],listQuery:{startPage:1,limit:10},total:0,isDialogShow:!1,isEditDialogShow:!1,rules:{}}},created:function(){var e=this;this.fetchData(this.listQuery),Object(c.c)({key:"dic_group",type:"hash"}).then(function(t){t.rows.map(function(e){return e.value=JSON.parse(e.value),e}),t.rows.push({field:"",value:{dic_desc:"全部"}}),e.selectArr=t.rows,console.log(t,"sdasdasd")})},watch:{},methods:{fetchData:function(e){var t=this;return s()(o.a.mark(function a(){var l;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:(l=r()({},e)).startPage--,l.nkv=t.form.contrastCode,l.params_group=t.form.grouping,t.listLoading=!0,Object(c.b)(l).then(function(e){t.list=e.rows,t.listLoading=!1,t.total=e.total,t.initForm()},function(e){console.log(e),t.listLoading=!1,t.initForm()});case 6:case"end":return a.stop()}},a,t)}))()},changeValue:function(e){this.fetchData(this.listQuery)},handleSelectionChange:function(e){this.multipleSelection=e,console.log(e)},handleSizeChange:function(e){this.listQuery.limit=e,this.fetchData(this.listQuery)},handleCurrentChange:function(e){this.listQuery.startPage=e,this.fetchData(this.listQuery)},btnAdd:function(){this.isDialogShow=!0,this.initForm()},btnEdit:function(){var e=this.multipleSelection,t=e.length,a=e[0];t>1?this.$message({message:"只能选中一个修改",type:"warning",duration:3e3,showClose:!0}):0!==t?(this.isEditDialogShow=!0,this.form={select:a.params_group,name:a.name,remark:a.remark,value:a.value,key:a.params_key,id:a.id},console.log(a)):this.$message({message:"请选中一条",type:"warning",duration:3e3,showClose:!0})},btnDelete:function(){var e=this,t=this.multipleSelection;if(0!==t.length){var a={aos_rows:t.map(function(e){return e.id}).join()};this.btnDeleteConfirm(function(){Object(c.a)(a).then(function(t){console.log(t),e.fetchData(e.listQuery)},function(e){console.log(e)})})}},btnDeleteConfirm:function(e,t){var a=this;this.$confirm("此操作将永久删除这些文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e&&e(),a.$message({type:"success",message:"删除成功!"})}).catch(function(){t&&t(),a.$message({type:"info",message:"已取消删除"})})},inputSearch:function(){this.fetchData(this.listQuery)},closeDialog:function(){this.isDialogShow=!1,this.isEditDialogShow=!1},confirmBtn:function(){var e=this;console.log(this.form);var t=this.form,a={params_group:t.select,name:t.name,params_key:t.key,value:t.value,remark:t.remark};Object(c.d)(a).then(function(t){console.log(t),e.fetchData(e.listQuery)},function(e){console.log(e)}),this.closeDialog(),this.initForm()},confirmEditBtn:function(){var e=this,t=this.form,a={params_group:t.select,name:t.name,params_key:t.key,value:t.value,remark:t.remark,id:t.id};Object(c.e)(a).then(function(t){console.log(t),e.fetchData(e.listQuery)},function(e){console.log(e)}),this.closeDialog(),this.initForm()},initForm:function(){this.form=r()(this.form,{contrastCode:"",name:"",key:"",value:"",remark:"",select:null})}},mounted:function(){}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",[a("el-button",{attrs:{round:""},on:{click:e.btnAdd}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{round:""},on:{click:e.btnEdit}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{round:""},on:{click:e.btnDelete}},[e._v("删除")]),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"字典分组"}},[a("el-select",{attrs:{placeholder:"please select your zone"},on:{change:e.changeValue},model:{value:e.form.grouping,callback:function(t){e.$set(e.form,"grouping",t)},expression:"form.grouping"}},e._l(e.selectArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.field}})}))],1)],1)],1),e._v(" "),a("div",{staticStyle:{display:"inline-block"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"对照码"}},[a("el-input",{nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.inputSearch(t)}},model:{value:e.form.contrastCode,callback:function(t){e.$set(e.form,"contrastCode",t)},expression:"form.contrastCode"}})],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:e.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"参数名称","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"参数键",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.params_key)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"参数值",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.value))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"所属分组",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.params_group)+"\n      ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.remark)+"\n      ")]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.startPage,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增参数",visible:e.isDialogShow},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"参数分组",prop:"selectArr"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.select,callback:function(t){e.$set(e.form,"select",t)},expression:"form.select"}},e._l(e.selectArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.value.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"参数名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键",prop:"key"}},[a("el-input",{model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数值",prop:"value"}},[a("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.confirmBtn}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:e.closeDialog}},[e._v("取消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增参数",visible:e.isEditDialogShow},on:{"update:visible":function(t){e.isEditDialogShow=t}}},[a("el-form",{ref:"dataForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{rules:e.rules,model:e.form,"label-position":"left","label-width":"70px"}},[a("el-form-item",{attrs:{label:"参数分组",prop:"selectArr"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"Please select"},model:{value:e.form.select,callback:function(t){e.$set(e.form,"select",t)},expression:"form.select"}},e._l(e.selectArr,function(e,t){return a("el-option",{key:t,attrs:{label:e.value.dic_desc,value:e.value.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"参数名称",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数键",prop:"key"}},[a("el-input",{model:{value:e.form.key,callback:function(t){e.$set(e.form,"key",t)},expression:"form.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参数值",prop:"value"}},[a("el-input",{model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"success",plain:""},on:{click:e.confirmEditBtn}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{type:"info",plain:""},on:{click:e.closeDialog}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]},f=a("VU/8")(u,m,!1,null,null,null);t.default=f.exports},zIkb:function(e,t,a){"use strict";t.b=function(e){return Object(l.a)({url:"/management-web/http/do.jhtml?router=masterDataService.listParam",method:"post",data:e})},t.d=function(e){return Object(l.a)({url:"/management-web/http/do.jhtml?router=masterDataService.saveParam",method:"post",data:e})},t.a=function(e){return Object(l.a)({url:"/management-web/http/do.jhtml?router=masterDataService.deleteParam",method:"post",data:e})},t.e=function(e){return Object(l.a)({url:"/management-web/http/do.jhtml?router=masterDataService.updateParam",method:"post",data:e})},t.c=function(e){return Object(l.a)({url:"/management-web/http/do.jhtml?router=cacheCustomService.listValues",method:"post",data:e})};var l=a("vLgD")}});